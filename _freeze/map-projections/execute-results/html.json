{
  "hash": "dca4690e2650d788436d2f967ddd35df",
  "result": {
    "engine": "knitr",
    "markdown": "\n::: {.cell}\n\n:::\n\n\n# Map projections {#map-projections}\n\n<!-- https://r-tmap.github.io/tmap/articles/foundations_crs -->\n<!-- maybe also include map_boundary stuff here -->\n\n<!-- global: -->\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(tmap)\nlibrary(sf)\nlibrary(stars)\nworldelevation = read_stars(\"data/worldelevation.tif\")\nworldvector = read_sf(\"data/worldvector.gpkg\")\nworldcities = read_sf(\"data/worldcities.gpkg\")\n```\n:::\n\n\n## Specifying map projections\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntm = tm_shape(worldvector) +\n  tm_polygons() +\n  tm_shape(worldcities) +\n  tm_dots() +\n  tm_text(\"name\") +\n  tm_crs(\"EPSG:4326\")\ntm\n```\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntm +\n  tm_crs(\"+proj=eck4\")\n```\n:::\n\n\n\n::: {#fig-mproj12 .cell layout-nrow=\"2\" layout-align=\"center\"}\n::: {.cell-output-display}\n![EPSG:4326 (WGS 84)](figures/fig-mproj12-1.png){#fig-mproj12-1 fig-align='center' width=100%}\n:::\n\n::: {.cell-output-display}\n![Eckert IV](figures/fig-mproj12-2.png){#fig-mproj12-2 fig-align='center' width=100%}\n:::\n\nMap projections examples.\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntm + \n  tm_crs(\"auto\")\n```\n\n::: {.cell-output-display}\n![Map with data projected into the automatically selected projection.](figures/fig-mproj-auto-1.png){#fig-mproj-auto fig-align='center' width=100%}\n:::\n:::\n\n\n## Global map projections\n\n<!-- tm + tm_style(\"natural\") -->\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntm +\n  tm_crs(\"+proj=eck4\") +\n  tm_layout(bg.color = \"lightblue\",\n            earth_boundary = TRUE)\n```\n\n::: {.cell-output-display}\n![Map with data projected into Eckert IV and with a customized style.](figures/fig-mproj3-1.png){#fig-mproj3 fig-align='center' width=100%}\n:::\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![Examples of map projections for the whole world.](figures/fig-exprojs-1.png){#fig-exprojs fig-align='center' width=100%}\n:::\n:::\n\n\n<!-- https://proj.org/en/stable/operations/projections/index.html -->\n\n<!-- maybe bbox could be a part of tm_crs? -->\n<!-- https://github.com/r-tmap/tmap/issues/1152#issuecomment-3007324769 -->\n<!-- https://github.com/r-tmap/tmap/issues/1156#issuecomment-3030990315 -->\n\n\n::: {#fig-mproj-ortho .cell layout-ncol=\"2\" layout-align=\"center\"}\n\n```{.r .cell-code}\ntm_shape(worldvector) +\n  tm_polygons()  +\n  tm_shape(worldcities) +\n  tm_dots() +\n  tm_text(\"name\") +\n  tm_graticules(labels.show = FALSE) +\n  tm_crs(\"+proj=ortho +lat_0=30 +lon_0=0\", bbox = \"FULL\")+\n  tm_layout(bg.color = \"lightblue\",\n            earth_boundary = TRUE,\n            frame = FALSE)\ntm_shape(worldvector) +\n  tm_polygons()  +\n  tm_shape(worldcities) +\n  tm_dots() +\n  tm_text(\"name\") +\n  tm_graticules(labels.show = FALSE) +\n  tm_crs(\"+proj=ortho +lat_0=0 +lon_0=100\", bbox = \"FULL\")+\n  tm_layout(bg.color = \"lightblue\",\n            earth_boundary = TRUE,\n            frame = FALSE)\n```\n\n::: {.cell-output-display}\n![Centered on 30째N, 0째E](figures/fig-mproj-ortho-1.png){#fig-mproj-ortho-1 fig-align='center' width=100%}\n:::\n\n::: {.cell-output-display}\n![Centered on 0째N/S, 100째E](figures/fig-mproj-ortho-2.png){#fig-mproj-ortho-2 fig-align='center' width=100%}\n:::\n\nOrthographic projection examples.\n:::\n\n\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n## Local map projections\n\n<!-- local? -->\n\n::: {.cell layout-align=\"center\"}\n\n:::\n\n\n<!-- properies -->\n\n<!-- specific: south pole? -->\n",
    "supporting": [
      "map-projections_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}