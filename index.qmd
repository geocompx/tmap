
```{r}
#| label: index-1
#| echo: false
is_on_ghactions = identical(Sys.getenv("GITHUB_ACTIONS"), "true")
is_online = curl::has_internet()
is_html = knitr::is_html_output()
```

```{asis}
#| label: index-2
#| echo: !expr is_html
# Welcome {-}
This is the online home of *Elegant and informative maps with **tmap***, a work-in-progress book on geospatial data visualization with the R-package [tmap](https://github.com/mtennekes/tmap).
```


```{asis}
#| label: index-2-3
#| echo: !expr is_html
## How to contribute? {-}

We encourage contributions on any part of the book, including:

- improvements to the text, e.g., clarifying unclear sentences, fixing typos
- changes to the code
- suggestions on content (see [the projectâ€™s issue tracker](https://github.com/r-tmap/tmap-book/issues))

```

```{asis}
#| label: index-2-4
#| echo: !expr is_html
## Additional information {-}

<a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>.
```

```{r}
#| label: index-2-2
#| echo: false
#| eval: !expr is_html
#| results: asis
if (is_on_ghactions){
    cat(paste0("This version of the book was built on GH Actions on ", Sys.Date(), "."))
} else {
    cat(paste0("This version of the book was built on ", Sys.Date(), "."))
}
```


